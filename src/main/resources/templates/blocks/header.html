<div th:fragment="header" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <header class="d-flex justify-content-center py-3 mb-4 border-bottom" style="align-items: center;">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-body-emphasis text-decoration-none"
           style="padding-left: 1rem;">
            <img th:if="${logoBase64}"
                 th:src="'data:' + ${logoType} + ';base64,' + ${logoBase64}"
                 alt="Logo" style="width: 100px; height: 80px; object-fit: contain;"/>
            <span th:unless="${logoBase64}" class="fs-4">Handmade Store</span>
        </a>

        <ul class="nav nav-pills align-items-center">

            <th:block th:if="${isAuthenticated}">
                <li class="nav-item me-3 d-flex align-items-center">
                    <img th:if="${headerUserAvatar}"
                         th:src="'data:' + ${headerUserAvatarType} + ';base64,' + ${headerUserAvatar}"
                         alt="Avatar" class="rounded-circle"
                         style="width: 28px; height: 28px; object-fit: cover; margin-right: 8px; border: 1px solid #ccc;"/>
                    <img th:unless="${headerUserAvatar}"
                         th:src="@{/img/default.png}"
                         alt="Avatar" class="rounded-circle"
                         style="width: 28px; height: 28px; object-fit: cover; margin-right: 8px; border: 1px solid #ccc;"/>
                    <span th:text="${headerUsername}" class="text-dark" style="font-weight: 500; font-size: 0.95rem;">Username</span>
                </li>
            </th:block>

            <li class="nav-item"><a href="/profile" class="nav-link">Профіль</a></li>
            <li class="nav-item"><a href="/chat" class="nav-link">Чат</a></li>
            <li class="nav-item"><a href="/cart" class="nav-link">Корзина</a></li>
            <li class="nav-item"><a href="/favorites" class="nav-link">Обрані товари</a></li>
            <li class="nav-item"><a href="/search" class="nav-link">Пошук</a></li>
        </ul>
    </header>
</div>